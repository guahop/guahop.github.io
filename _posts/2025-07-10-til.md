---
title: "[TIL] 2025.07.10"
date: 2025-07-10
categories: [TIL]
tags: [TIL, 한국정보교육원, 실습, RIP, NAT, PAT, DHCP, VTY, EtherChannel]
---


# TIL – 2025-07-10
<!-- 오늘 날짜 -->


---


## 📘 Today I Studied
<!-- 오늘 공부한 강의, 실습, 문서 등 -->
- 한국정보교육원 KT클라우드와 NHN Cloud로 완성하는 클라우드 엔지니어 양성 9일차
- NAT, PAT
- DHCP
- Dynamic Routing (동적 라우팅)
- 실습 - RIP, NAT, PAT, Frame-Relay(p2p, multi), VTY




---




## ✏️ Key Takeaways
<!-- 오늘 배운 주요 개념, 이론, 흐름 등을 자유롭게 정리하세요 -->




### NAT, PAT
#### NAT 장점 2가지
1. 공인 IP 부족 해결 (PAT)
2. 보안성 향상 > 외부 네트워크는 사설 IP를 모르니까




#### 정리
- Dynamic NAT는 실제로 동적으로 IP를 부여해도 예전에 부여한 IP 정보를 클라이언트에서 캐싱하고 있어서 껐다 켰을 때 다른 곳에서 이전에 사용한 IP를 사용하고 있지 않는 이상 계속 그 IP를 사용한다.
- ***PAT는 다수의 사설 IP를 단 1개의 공인 IP로 변환해서 사용할 수 있는 기술***
- NAT table은 정적의 경우 엔지니어가 지우지 않는 이상 계속 들고 있다. 동적은 일정 시간 지나면 내부의 정보를 제거한다.




### DHCP
- 동적으로 호스트 IP를 부여하는 프로토콜
- DHCP는 임대 기간 형식인데, 이 임대기간이 지나면 자동 연장한다.
  - 서버에서 ping을 보내서 그 IP를 사용하고 있는지 확인한다. 만약 사용안하면 회수하고 사용하고 있으면 자동 연장.




### 라우팅 프로토콜
- ***목적지 네트워크로 가는 경로를 알아내기 위해(=라우팅 테이블에 수집) 사용하는 프로토콜***
- 비신뢰성 프로토콜
   - 라우터는 next hop으로 보내고 해당 패킷이 목적지에 도착하는지는 관심이 없다.
- 라우팅 테이블 : 라우터가 라우팅 하기 위해 참조하는 테이블
- 정적 라우팅 (static)
- 동적 라우팅 (Dynamic)
   - 거리 벡터: RIP v1/v2, EIGRP, IGRP, BGP
   - 링크 상태: SPF, IS-IS
       - RIP v1과 IGRP만 classful하다.


### RIP (동적 라우팅)
- 자신의 네트워크를 주변 라우터한테 주기적으로 공유
- 버전1은 브로드캐스트, 서브마스크 정보를 보내지 않음 > 그래서 Classful
- RIP 버전 2는 RIP가 설정된 인터페이스로만 멀티캐스트(224.0.0.9)를 전송하고, 그 멀티캐스트 그룹에 가입한 RIP 라우터만 수신한다.
- 속도(bandwidth)가 빨라도 라우팅테이블에 올라가는거는 라우터 수(메트릭 값)으로 결정된다.




```
Router(config)#router rip
Router(config-router)#version 2 // 설정안하면 1로 설정되어 있음
Router(config-router)#network 192.168.10.0
Router(config-router)#network 1.1.12.0
Router(config-router)#no auto-summary
```


![RIP 라우팅 테이블](/assets/posts/250710-1.png)
- 공유 받은 네트워크는 R로 들어온다.
- 120은 RIP로 받았다는 정보
- 라우터가 라우팅 정보를 전달할때 메트릭 값은 거친 라우터 개수이다.
   - 메트릭은 라우터 수 16개까지 > 값은 15까지




#### RIP 디버깅
``Router#debug ip rip```
![RIP 디버깅](/assets/posts/250710-2.png)




#### 라우팅 테이블의 triggered update
- 링크가 다운되면 라우팅테이블에서 내리고 다른 경로 탐색
- 링크가 다운되는 긴급상황은 아니지만 상대한테서 RIP 정보를 받아오지 않으면 180초(30초 6번)을 참음 > RIP 정보를 못받아와도 라우팅테이블에서 삭제하지 않음 > 정상적인 라우팅 동작은 함 > 총 3분 지나면  possibly down 여기서 3분 더 기다리고 + 1분 해서 사라지기까지 총 7분 걸림




### 전체 실습
- Frame Relay
   - point to point
   - multi point
- RIP
- VTY (무선 접속)
- EtherChannel
- PAT


![실습 결과](/assets/posts/250710-3.png)




#### 실습 정리
- RIP에서 passive 해주는 의미는 라우팅 테이블에서 이더넷으로 안보낼 때 사용한다.
- Fram-relay multi-point 중계라우터한테서 ```Router(config-subif)#no ip split-horizon```를 안해주면 중계라우터가 수집한 정보를 내보내지 않는다.
   - 정보를 수집한 인터페이스랑 내보내는 인터페이스랑 같기 때문이다.
- ```Router(config)# ip route 0.0.0.0  0.0.0.0  1.1.91.1```
   - 0.0.0.0(Default Routing)모든 주소의 라우팅을 1.1.91.1으로 보낸다.
   - ping 확인할 수 있게 해줌




---
## 🌱 What I Realized
<!-- 오늘 느낀 점, 인사이트, 나만의 정리 -->
- IP를 부여하는 것은 컴퓨터와 라우터이다. (서버도 컴퓨터에 속함)
- 응용이 부족한 것 같다.




---




## 👀 Questions & Next Steps
- 알아야 할 것
   - 라우터와 스위치의 차이점
       - 스위치는 모르는 주소면 수신자 빼고 Broadcast
       - 라우터는 드랍시킴
   - static Routing과 Dynamic Routing의 장단점
<!-- 내일 할 것, 궁금한 점, 더 찾아볼 개념 등 -->
